# LFAS Environment
# Copy to .env and fill

# Database
# Local: SQLite (default)
DATABASE_URL=sqlite+aiosqlite:///./lfas.db
# Production (Supabase): paste Connection string from Supabase → Settings → Database.
# Format: postgresql://postgres.[ref]:[YOUR-PASSWORD]@aws-0-[region].pooler.supabase.com:6543/postgres?sslmode=require
# (If password has @#? etc., either URL-encode them or use the vars below for scripts/migrate_local_to_supabase.)
# Alternative for migration script (no encoding needed):
# SUPABASE_DB_HOST=aws-0-xxx.pooler.supabase.com
# SUPABASE_DB_USER=postgres.YOUR_PROJECT_REF
# SUPABASE_DB_PASSWORD=your-password
# SUPABASE_DB_PORT=6543
# SUPABASE_DB_NAME=postgres

# LLM (use one: openai или openrouter)
OPENAI_API_KEY=sk-...
# OpenRouter (openrouter.ai) — Claude, GPT и др. через один API
# OPENROUTER_API_KEY=sk-or-v1-...
# ANTHROPIC_API_KEY=...

# Провайдер: openrouter (Claude). Модель: anthropic/claude-sonnet-4.5 и др.
LFAS_LLM_PROVIDER=openrouter
LFAS_LLM_MODEL=anthropic/claude-sonnet-4.5

# First month guardrail: minimal cold DM (0=strict, 1=relaxed)
LFAS_FIRST_MONTH_STRICT=1

# App
LFAS_HOST=0.0.0.0
LFAS_PORT=8000
SESSION_SECRET=change-me-in-production
# Для HTTPS (myvoices.ai): SESSION_HTTPS_ONLY=true — cookie будет с флагом Secure
# SESSION_HTTPS_ONLY=true
# Вход по email и паролю: задайте оба — доступ к /ui/* и API только после входа. Иначе оставьте пустыми и AUTH_ENABLED=false.
# AUTH_ENABLED=true
# AUTH_ADMIN_EMAIL=your@email.com
# AUTH_ADMIN_PASSWORD=your-secret-password
# Вход через Google: создайте OAuth 2.0 Client ID (Web) в https://console.cloud.google.com/apis/credentials, укажите Redirect URI: https://your-domain/auth/google/callback
# GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=xxx
# GOOGLE_REDIRECT_URI=https://your-domain/auth/google/callback
# Часовой пояс для отображения дат в UI (IANA, напр. America/Chicago)
# DISPLAY_TIMEZONE=America/Chicago

# LinkedIn OAuth (Community Management API, scope r_member_postAnalytics)
# Создайте приложение на https://www.linkedin.com/developers/
# Локально: Redirect URL = http://localhost:8000/linkedin/oauth/callback
# Продакшн (myvoices.ai): Redirect URL = https://myvoices.ai/linkedin/oauth/callback
# LINKEDIN_CLIENT_ID=...
# LINKEDIN_CLIENT_SECRET=...
# LINKEDIN_REDIRECT_URI=http://localhost:8000/linkedin/oauth/callback
# LINKEDIN_REDIRECT_URI=https://myvoices.ai/linkedin/oauth/callback

# Playwright: профиль Chromium с залогиненным LinkedIn (для «Распознать по ссылке»)
# Создайте папку, запустите в ней Chromium, залогиньтесь в LinkedIn. Пример: ~/linkedin-browser-profile
# PLAYWRIGHT_USER_DATA_DIR=/path/to/linkedin-browser-profile

# RapidAPI: Fresh LinkedIn Profile Data. Подписка: https://rapidapi.com/freshdata-freshdata-default/api/fresh-linkedin-profile-data
# Если задано — при «Распознать по ссылке» сначала пробуем RapidAPI (без Playwright).
# Работает только для URL вида posts/username_activity-XXX; для feed/update/urn:li:activity:XXX — fallback на Playwright.
# RAPIDAPI_KEY=your-rapidapi-key
# RAPIDAPI_HOST=fresh-linkedin-profile-data.p.rapidapi.com
